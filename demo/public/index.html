<!DOCTYPE html>
<html ng-app="extraction">
<head>
<title>Extraction Demo</title>
<link rel="stylesheet" media="screen" href="/css/bootstrap.min.css">
<link rel="stylesheet" media="screen" href="/css/style.css">
<script src="/js/angular.min.js" type="text/javascript"></script>
<script src="/js/ui-bootstrap-tpls.min.js" type="text/javascript"></script>
<script src="/js/main.js" type="text/javascript"></script>
</head>
<body ng-controller='ExtractionCtrl'>
<div class="container">
  <div class="row">
    <div class="col-md-6">
      <h1>Extraction Demo</h1>
      <tabset>
      <tab heading='Text input'>
      <form>
        <dl class=" " id="text_field">
          <dt><label for="text">Text:</label></dt>
          <dd>
          <textarea ng-model="model.text" id="text" name="text" rows="20" class="field span8"></textarea>
          </dd>
          <dd class="info">Required</dd>
        </dl>
        <button ng-click="submitText()" class="btn btn-default">Submit</button>
      </form>
      </tab>
      <tab heading='Web URL'>
      <form>
        <dl class=" " id="url_field">
          <dt><label for="url">URL:</label></dt>
          <dd>
          <input ng-model="model.url" type="text" id="url" name="url" value="" placeholder="http://www.google.com/">
          </dd>
        </dl>
        <button ng-click="submitUrl()" class="btn btn-default">Submit</button>
      </form>
      </tab>
      </tabset>
    </div>
    <div class="col-md-6">
      <div ng-show='working' class="spinner">
        <img src="/img/spinner.gif" />
      </div>
      <div ng-hide='working'>
        <div ng-show='errorResponse'>
          <h3>There was a problem serving your request ({{ errorResponse.status }}).</h3>
          <div ng-repeat="message in errorResponse.messages" class="alert alert-danger">
            {{ message }}
          </div>
          <details>
            <summary>Stack Trace</summary>
            <p><pre>{{ errorResponse.stackTrace }}</pre></p>
          </details>
        </div>
        <div ng-show='response' ng-repeat="sentence in response.sentences track by $index" class="panel">
          <h3>{{ sentence.text }}</h3>
          <dl ng-repeat="extractor in sentence.extractors">
            <dt>{{ extractor.name }} <small>{{ response.extractors[extractor.name] }}</small></dt>
            <dl>
              <ul ng-repeat="extraction in extractor.extractions">
                {{ extraction }}
              </ul>
            </dl>
          </dl>
        </div>
      </div>
    </div>
    <details ng-show="response">
      <summary>Json Response</summary>
      <p><pre>{{ responseString }}</pre></p>
    </details>
  </div>
</div>
</body>
</html>

